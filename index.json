[{"categories":null,"contents":"","date":"Jul 24","permalink":"https://agapovone.github.io/projects/blog/","tags":null,"title":"This blog"},{"categories":null,"contents":"   –í–æ–ø—Ä–æ—Å—ã   –ü–æ—á–µ–º—É —Å—Ç–æ–∏—Ç —É–π—Ç–∏ —Å Cocoapods? –ö–∞–∫ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç—ã? –ß—Ç–æ —Å–æ —Å–±–æ—Ä–∫–æ–π –Ω–∞ CI? –ö–∞–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç—ã –≤ SwiftPM –ö–∞–∫ —É–¥–æ–±–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç –ö–∞–∫ —É–¥–æ–±–Ω–æ –≤—ã–¥–µ–ª—è—Ç—å –º–æ–¥—É–ª—å –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –ö–∞–∫ –≤—ã–ø—É—Å–∫–∞—Ç—å –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫     –ü–æ—á–µ–º—É —Å—Ç–æ–∏—Ç —É–π—Ç–∏ —Å Cocoapods  SwiftPM –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å—ë, —á—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Cocoapods –∏ –¥–∞–∂–µ —á—É—Ç—å –±–æ–ª—å—à–µ.\n   –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤  –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–∞—á–∏–Ω–∞—è —Å Xcode 12 –∏ Swift 5.3.\n–†–µ—Å—É—Ä—Å—ã –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–±—ä—è–≤–ª—è—Ç—å –≤ Package.swift —Ñ–∞–π–ª–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, asset catalogs, xib/storyboard, .lproj —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –≤–∫–ª—é—á–µ–Ω—ã –≤ Bundle –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.\n When you add a resource to your Swift package, Xcode detects common resource types for Apple platforms and treats them as a resource automatically. For example, you don‚Äôt need to make changes to your package manifest for the following resources:\n Interface Builder files; for example, XIB files and storyboards Core Data files; for example, xcdatamodeld files Asset catalogs .lproj folders you use to provide localized resources  Bundling resources\n –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã –≤ –∫–æ–¥–µ —Å—Ç–∞–ª–æ –ø—Ä–æ—â–µ. –í–Ω—É—Ç—Ä–∏ Swift Package Manager –ø–∞–∫–µ—Ç–∞ –º—ã –º–æ–∂–µ–º –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ—Å—Ç–æ Bundle.module.\nUIImage(named: \u0026quot;some_image\u0026quot;, bundle: .module)\n–≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–ª–∞–≥–æ–¥–∞—Ä—è —Ñ–ª–∞–≥—É SWIFT_PACKAGE, –∫–æ—Ç–æ—Ä—ã–π –¥–æ—Å—Ç—É–ø–µ–Ω –≤–Ω—É—Ç—Ä–∏ –ø–∞–∫–µ—Ç–∞.\n–ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –æ–ø–∏—Å–∞–Ω –≤ —Å—Ç–∞—Ç—å–µ useyourloaf.\n–ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ –≤–∏–¥–µ–æ WWDC20. Swift packages: Resources and localization\n   SwiftGen, R.swift  –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Bundle.module.\n–ù–µ—Ç —è–≤–Ω—ã—Ö —à–∞–≥–æ–≤ –¥–ª—è –±–∏–ª–¥–∞ —Ä–µ—Å—É—Ä—Å–æ–≤, –∫–∞–∫ –∏ —Å –æ–±—ã—á–Ω—ã–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏. –ö–∞–∂–µ—Ç—Å—è, –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –¥–µ—Ä–∂–∞—Ç—å —Ä—è–¥–æ–º –ø–∞–ø–∫—É scripts —Å cli. –ò –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.\n   –£–º–µ–µ—Ç –≤ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ   –í—ã–±–æ—Ä –≤–µ—Ä—Å–∏–∏ –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –º–∞–∂–æ—Ä–Ω–æ–π (95% –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è) –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –≤–µ—Ç–∫–∞     –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç binary frameworks  –ü–æ–¥–¥–µ—Ä–∂–∫–∞ xcframework –Ω—É–∂–Ω–∞ –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫, —É –∫–æ—Ç–æ—Ä—ã—Ö –º—ã —Ö–æ—Ç–∏–º –∑–∞–∫—Ä—ã—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥. –ò–ª–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, —É KMM –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –Ω—É–∂–Ω–∞ –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å.\n–¢–∞–∫–∏–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã —Ç–æ–ª—å–∫–æ Apple –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π –∏ —Ç–µ–º–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞–º–∏, –ø–æ–¥ –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω–∏ —Å–æ–±—Ä–∞–Ω—ã. –≠—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.\n–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± —ç—Ç–∏—Ö —Ñ—Ä–µ–π–º–æ–≤—Ä–∫–∞—Ö –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ Swift Package Manager –≤ –≤–∏–¥–µ–æ Distribute binary frameworks as Swift Packages –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –æ Binary Frameworks\n   –ö–∞–∫ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç—ã –∏ —á—Ç–æ —Å–æ —Å–±–æ—Ä–∫–æ–π –Ω–∞ CI     –í–Ω–µ—à–Ω–∏–µ –ø–∞–∫–µ—Ç—ã –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  –ü–∞–∫–µ—Ç—ã –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —á–µ—Ä–µ–∑ File \u0026gt; Swift Packages. –ü–æ–∏—Å–∫ –ø–æ url –ø–∞–∫–µ—Ç–∞. –ü–∞–∫–µ—Ç —Å–∫–∞—á–∞–µ—Ç—Å—è –∏ –ø–æ–ø—Ä–æ–±—É–µ—Ç –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–µ—Ä–µ–≤–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.\nswift package —É–º–µ–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å, —Å–æ–±–∏—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –º–æ–¥—É–ª–∏. –ü–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å Xcode.\n–ù–∞ CI –ø–∞–∫–µ—Ç—ã —Ä–µ–∑–æ–ª–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –Ω–∞—á–∞–ª–µ —Å–±–æ—Ä–∫–∏, –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.\n   –ú–æ–¥—É–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Swift Package Manager  –ú–æ–¥—É–ª–∏ –≤—ã–¥–µ–ª—è—Ç—å —Å—Ç–∞–ª–æ –Ω–∞–º–Ω–æ–≥–æ –ø—Ä–æ—â–µ. File \u0026gt; New \u0026gt; Swift Package. –î–æ–±–∞–≤–ª—è—è –µ–≥–æ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø—Ä–æ–µ–∫—Ç - –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ–Ω—è—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞. –û–Ω–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —Ñ–∞–π–ª—ã –≤–Ω—É—Ç—Ä–∏, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ã—á–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø–∞–ø–∫–∞ —Ç–µ—Å—Ç–æ–≤, –∞–≤—Ç–æ–º–∞—Ç–æ–º —Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è Scheme –¥–ª—è –±–∏–ª–¥–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–∞. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ç–∞–∫–æ–≥–æ –º–æ–¥—É–ª—è –º–æ–∂–Ω–æ –æ–±—ä—è–≤–∏—Ç—å –≤ Package.swift\n   –ö–∞–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç—ã –≤ SwiftPM  1 —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π = –∫–æ–ª–ª–µ–∫—Ü–∏—è –ø–∞–∫–µ—Ç–æ–≤.\nExecutable ‚Äî cli. –£–¥–æ–±–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å –ª—é–±—ã–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç–æ–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç SwiftPM. swift-argument-parser ‚Äî –º–æ—â—å.\n–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å SPM SwiftGen/R.swift –∏ –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ CLI, –∫–∞–∫ —ç—Ç–æ –±—ã–ª–æ —Å Cocoapods - –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è. –í–∞–ª–∏–¥–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —Ç–∞–∫–∏–µ:\n –ø–æ–ª–æ–∂–∏—Ç—å –±–∏–Ω–∞—Ä—å —Å —É—Ç–∏–ª–∏—Ç–æ–π –≤ –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤–Ω—É—Ç—Ä–∏. –ë—É–¥–µ—Ç –Ω–µ –æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è, –Ω–æ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —É–¥–æ–±—Å—Ç–≤–∞ –æ—Å—Ç–∞–Ω—É—Ç—Å—è. –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Brewfile/Gemfile –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ë—É–¥–µ—Ç —É–¥–æ–±–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å, –Ω–æ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–µ—Ä–µ–¥ –±–∏–ª–¥–æ–º brew install/bundle install  Library ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞. –ú–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π, —Ç–∞–∫ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π.\n   –ö–∞–∫ —É–¥–æ–±–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å     –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç–∞  –í–Ω—É—Ç—Ä–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø–∞–∫–µ—Ç–∞ –º–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å —Ç–∞–∫—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é —Ñ–∞–π–ª–æ–≤:\n üìÅ Project (git repo)  üìÑ Package.swift üìÑ Package.resolved üìÑ README.md üìÅ Sources  üìÅ Helpers üìÅ BigModule   üìÅ Tests  üìÅ BigModuleTests (folder)   üìÅ Example  Example.xcodeproj \u0026hellip; any structure of example project   üìÑ Packages.xcworkspace Packages.playground (–µ—â–µ –Ω–µ –ø—Ä–æ–±–æ–≤–∞–ª, –Ω–æ –¥–æ–ª–∂–Ω–æ —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞—Ç—å)    xcworkspace —Ñ–∞–π–ª –æ–±—ä–µ–¥–∏–Ω–∏—Ç –≤ —Å–µ–±–µ –¥–≤–µ –≥—Ä—É–ø–ø—ã\n1 2 3 4 5 6 7 8 9 10  \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;Workspace version = \u0026#34;1.0\u0026#34;\u0026gt; \u0026lt;FileRef location = \u0026#34;group:.\u0026#34;\u0026gt; \u0026lt;/FileRef\u0026gt; \u0026lt;FileRef location = \u0026#34;group:Example/Example.xcodeproj\u0026#34;\u0026gt; \u0026lt;/FileRef\u0026gt; \u0026lt;/Workspace\u0026gt;   –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ xcworkspace –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –≤—Å—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫, –ø—Ä–∏ —ç—Ç–æ–º –∏–º–µ—è –≤—Å–µ —Å—Ö–µ–º—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ –ø–∞–∫–µ—Ç–æ–≤ + —Å—Ö–µ–º—É –¥–ª—è —Å–±–æ—Ä–∫–∏ Example –ø—Ä–æ–µ–∫—Ç–∞.\n–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –∏–Ω–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∑–∞–∫—Ä—ã—Ç—å-–æ—Ç–∫—Ä—ã—Ç—å workspace. –û–±—ã—á–Ω–æ —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å—Ö–µ–º–∞–º–∏ –∏–ª–∏ —Ä–µ–∑–æ–ª–≤–æ–º –ø–∞–∫–µ—Ç–æ–≤.\nKontur: –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–∞–∫—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é –≤ packages-ios.\n   Package.swift  // swift-tools-version:5.3 - –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ç—É–ª–∑–æ–≤. –ê–∫—Ç—É–∞–ª—å–Ω–∞—è —Ñ–∏—á–∞ –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏ - process/copy —Ä–µ—Å—É—Ä—Å–æ–≤.\nAPI Reference swift.org ‚Äî –º–µ—Å—Ç–æ, –≥–¥–µ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∫ –∫–∞–∂–¥–æ–º—É –≤—ã–∑–æ–≤—É –≤–Ω—É—Ç—Ä–∏ Package.swift\n–ü—Ä–æ –æ—Ç–ª–∏—á–∏–µ static –∏ dynamic –±–∏–±–ª–∏–æ—Ç–µ–∫ –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å –≤ –±–ª–æ–≥–µ theswiftdev.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44  // swift-tools-version:5.3 import PackageDescription let package = Package( name: \u0026#34;SimplePackage\u0026#34;, platforms: [ .iOS(.v11) // –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ iOS —Å –≤–µ—Ä—Å–∏–∏ 11 ], products: [ .library( name: \u0026#34;Helpers\u0026#34;, targets: [\u0026#34;Helpers\u0026#34;] ), .library( name: \u0026#34;BigModule\u0026#34;, targets: [\u0026#34;BigModule\u0026#34;] ) ], dependencies: [ .package(url: \u0026#34;https://github.com/marmelroy/PhoneNumberKit\u0026#34;, .upToNextMajor(from: \u0026#34;3.3.3\u0026#34;)), .package(url: \u0026#34;https://github.com/ReactiveX/RxSwift.git\u0026#34;, from: \u0026#34;5.0.0\u0026#34;), .package(name: \u0026#34;Firebase\u0026#34;, url: \u0026#34;https://github.com/firebase/firebase-ios-sdk.git\u0026#34;, from: \u0026#34;8.0.0\u0026#34;) ], targets: [ .target( name: \u0026#34;Helpers\u0026#34;, dependencies: [\u0026#34;PhoneNumberKit\u0026#34;] ), .target( name: \u0026#34;BigModule\u0026#34;, dependencies: [ .product(name: \u0026#34;FirebaseRemoteConfig\u0026#34;, package: \u0026#34;Firebase\u0026#34;), \u0026#34;RxSwift\u0026#34;, .product(name: \u0026#34;RxCocoa\u0026#34;, package: \u0026#34;RxSwift\u0026#34;) ], resources: [.process(\u0026#34;Resources\u0026#34;)] // Resources ‚Äî –ø–∞–ø–∫–∞ –≤ Sources/BigModule ), .testTarget( name: \u0026#34;BigModuleTests\u0026#34;, dependencies: [\u0026#34;BigModule\u0026#34;] ), ] )      –†–µ–ª–∏–∑—ã  –†–µ–ª–∏–∑—ã –ª–µ–≥—á–µ, —á–µ–º –≤ cocoapods, —Ç–∞–∫ –∫–∞–∫ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –≤–µ—Ä—Å–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–µ—Ä–∂–∞—Ç—å –Ω–µ—Ç. –ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–µ–º —Ç–µ–≥ –≤–µ—Ä—Å–∏–∏ –ø–æ semver, –∏ –ø–∞–∫–µ—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é.\n–ï—Å–ª–∏ —Ö–æ—á–µ—Ç—Å—è –≤—ã–ª–æ–∂–∏—Ç—å –ø–∞–∫–µ—Ç –≤ –æ–±—â–∏–π –¥–æ—Å—Ç—É–ø –∏ –ø–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏—Å–∫–∞—Ç—å –µ–≥–æ –≤ –æ–±—â–µ–º —Å–ø–∏—Å–∫–µ ‚Äî –ø–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ Swift Package Index.\n   –ö–∞–∫ —Ä–µ—à–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã  –ü–∞–∫–µ—Ç—ã –Ω–∞—á–∏–Ω–∞—é—Ç —Ä–µ–∑–æ–ª–≤–∏—Ç—å—Å—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ Xcode –ø—Ä–æ–µ–∫—Ç–∞. –ï—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å –ø–∞–∫–µ—Ç—ã, —Ç–æ –æ–Ω–∏ –ø—Ä–æ–ø–∞–¥—É—Ç –∏ –±–∏–ª–¥ –Ω–µ –±—É–¥–µ—Ç –∏—Ö –≤–∏–¥–µ—Ç—å. –¢–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–µ–Ω—é File \u0026gt; Swift Packages \u0026gt; Resolve Package Versions\n–ü—Ä–æ–±–ª–µ–º—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ—à–∞—é—Ç—Å—è —É–¥–∞–ª–µ–Ω–∏–µ–º –∫—ç—à–∞ üòÄ –°—Å—ã–ª–∫–∞ –Ω–∞ –Ω–µ–≥–æ –ª–µ–∂–∏—Ç –≤ ~/.swiftpm/cache. –û—Ä–∏–≥–∏–Ω–∞–ª –ª–µ–∂–∏—Ç –≤ ~/Library/Caches/org.swift.swiftpm. –†—è–¥–æ–º —Å –∫—ç—à–µ–º Cocoapods.\n–ü—Ä–æ–±–ª–µ–º–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ç–µ–º, —á—Ç–æ –º–æ–¥—É–ª–∏ –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥—É —Ä–µ—à–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é. –ö–∞–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º—ã –ø–æ—Å—Ç–∞–≤–∏–º RxSwift 6.0.0+ –∏ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é Moya, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å RxSwift 5.0.0+. –¢–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –≤–µ—Ä—Å–∏—è RxSwift –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ —Å—Ç–∞—Ä–∞—è. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —ç—Ç–æ –Ω–µ —Ä–µ—à–∏—Ç—Å—è, –Ω–æ –ª–æ–≥ –ø–∏—à–µ—Ç—Å—è –ø–æ–Ω—è—Ç–Ω—ã–π.\n–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ –æ–¥–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞\n1 2  Dependencies could not be resolved because root depends on \u0026#39;Moya\u0026#39; 14.0.1..\u0026lt;15.0.0 and root depends on \u0026#39;Quick\u0026#39; 4.0.0..\u0026lt;5.0.0. \u0026#39;Moya\u0026#39; \u0026gt;= 14.0.1 practically depends on \u0026#39;Quick\u0026#39; 2.0.0..\u0026lt;3.0.0 because \u0026#39;Moya\u0026#39; 14.0.1 depends on \u0026#39;Quick\u0026#39; 2.0.0..\u0026lt;3.0.0 and no versions of \u0026#39;Moya\u0026#39; match the requirement 14.0.2..\u0026lt;15.0.0.   –ù–µ –≤–∏–∂—É –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏, —Ç–∞–∫ –∫–∞–∫ Package.swift –Ω–µ–ª—å–∑—è –≤—ã–¥–µ–ª–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ. –î—É–º–∞–ª –æ —Ç–æ–º, —á—Ç–æ–±—ã Quick —Å –≤–µ—Ä—Å–∏–µ–π –¥—Ä—É–≥–æ–π –∏–º–µ–ª –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤—Ä–æ–¥–µ Quick-4, –∏ —Ç–æ–≥–¥–∞ –±—ã –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã–ª–∞ –ª–æ–º–∞—Ç—å—Å—è —Å–≤—è–∑–∫–∞. –ù–æ –∫–∞–∫ —Ç–∞–∫–æ–µ —Ä–µ—à–∏—Ç—å —Å —Ç–µ–∫—É—â–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Xcode - –Ω–µ –ø–æ–Ω—è—Ç–Ω–æ.\n–í–∞–ª–∏–¥–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –Ω–∞ —Å–µ–π—á–∞—Å:\n –≤—ã–ø–∏–ª–∏—Ç—å Quick –∏–∑ —Ç–µ—Å—Ç–æ–≤ :) –æ–±–Ω–æ–≤–∏—Ç—å Moya –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –í–µ—Ä—Å–∏—è 15 —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π RxSwift –¥–∞–≤–Ω–æ –≥–æ—Ç–æ–≤–∞. –ù–æ –µ—ë –Ω–µ –≤—ã–ø—É—Å–∫–∞—é—Ç –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –ø–æ—á–µ–º—É. –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.     –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏  –û–±–∑–æ—Ä –ø–æ SwiftPM –æ—Ç Apple\n–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ API SwiftPM –≤ Package.swift —Ñ–∞–π–ª–µ\n–í–∏–¥–µ–æ WWDC –ø—Ä–æ Swift Packages\n–ü—É–±–ª–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ –≤ SwiftPM\n","date":"Jul 25","permalink":"https://agapovone.github.io/articles/swiftpm/","tags":"SPM","title":"Swift Package Manager in 2021"},{"categories":null,"contents":"I work at Kontur.\nWrite me on twitter\n","date":"Jul 23","permalink":"https://agapovone.github.io/about/","tags":null,"title":"About me"},{"categories":null,"contents":"source –æ—Ç Apple\niOS 14+ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö —Ñ–∏—á. –í iOS 13 –≤–≤–µ–ª–∏ diffable data source. –í iOS 14 –ø–æ—è–≤–∏–ª—Å—è compositional layout, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ç–∞–±–ª–∏—Ü –∏ —É–ª—É—á—à–∞—é—â–∏–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏.\n   –ü–æ—á–µ–º—É –Ω–µ —Ç–∞–±–ª–∏—Ü–∞?   –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –£–¥–æ–±–Ω–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å state. highlighted/selected/disabled     –ß—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å?   Collapsible/Expandable Sections –°–µ–∫—Ü–∏–∏ —Å —Ä–∞–∑–Ω—ã–º layout. inset grouped, sidebar (iPad-related), horizontal scroll, columns.     –ì–ª–∞–≤–Ω—ã–µ —Ñ–∏—á–∏     Data source  Data-driven —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑‚Ä¶ RxDataSources? DifferenceKit? Native! –°–æ–±–∏—Ä–∞–µ–º NSDiffableDataSourceSnapshot, –ø—Ä–∏–º–µ–Ω—è–µ–º.\n1 2 3 4  var snapshot = NSDiffableDataSourceSnapshot\u0026lt;Section, Int\u0026gt;() snapshot.appendSections([.main]) snapshot.appendItems(Array(0..\u0026lt;94)) dataSource.apply(snapshot, animatingDifferences: false)   Data source ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å cellRegistration\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  let cellRegistration = UICollectionView.CellRegistration\u0026lt;TextCell, Int\u0026gt; { (cell, indexPath, identifier) in // Populate the cell with our item description. cell.label.text = \u0026#34;\\(identifier)\u0026#34; } dataSource = UICollectionViewDiffableDataSource\u0026lt;Section, Int\u0026gt;( collectionView: collectionView ) { ( collectionView: UICollectionView, indexPath: IndexPath, identifier: Int ) -\u0026gt; UICollectionViewCell? in // Return the cell. return collectionView.dequeueConfiguredReusableCell(using: cellRegistration, for: indexPath, item: identifier) }   –ï—Å—Ç—å –æ–¥–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∫–∞ —Å native data source. –û–Ω –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –±—É–¥–µ—Ç —É–¥–∞–ª—è—Ç—å –∏ –∑–∞—Ç–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—É—é —è—á–µ–π–∫—É, –Ω–µ –¥–µ–ª–∞—è reload –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –º–µ—Å—Ç–µ (—Ç—É—Ç –≥–æ–≤–æ—Ä—è—Ç). DifferenceKit –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ç–æ –¥–µ–ª–∞—Ç—å, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É. –ë–µ–Ω—á–º–∞—Ä–∫–∏ —ç—Ç–æ–π –ª–∏–±—ã –≥–æ–≤–æ—Ä—è—Ç, —á—Ç–æ –æ–Ω–∞ —Å–∞–º–∞—è –±—ã—Å—Ç—Ä–∞—è —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö –ø–æ—Ö–æ–∂–∏—Ö –ª–∏–±. –•–æ—Ä–æ—à–∞—è –ª–∏–±–∞ –ù–æ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å –Ω–æ–≤—ã–º API cellRegistration –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å native Data source\n   Layout –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤  DistinctSectionsViewController –∫–∞–∫ –ø—Ä–∏–º–µ—Ä —Ä–∞–∑–Ω—ã—Ö layout –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–µ–∫—Ü–∏–π.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  let layout = UICollectionViewCompositionalLayout { ( sectionIndex: Int, layoutEnvironment: NSCollectionLayoutEnvironment ) -\u0026gt; NSCollectionLayoutSection? in guard let sectionLayoutKind = SectionLayoutKind(rawValue: sectionIndex) else { return nil } let columns = sectionLayoutKind.columnCount // The group auto-calculates the actual item width to make // the requested number of columns fit, so this widthDimension is ignored. let itemSize = NSCollectionLayoutSize( widthDimension: .fractionalWidth(1.0), heightDimension: .fractionalHeight(1.0) ) let item = NSCollectionLayoutItem(layoutSize: itemSize) item.contentInsets = NSDirectionalEdgeInsets(top: 2, leading: 2, bottom: 2, trailing: 2) let groupHeight = columns == 1 ? NSCollectionLayoutDimension.absolute(44) : NSCollectionLayoutDimension.fractionalWidth(0.2) // Element height takes 20% of section width let groupSize = NSCollectionLayoutSize( widthDimension: .fractionalWidth(1.0), heightDimension: groupHeight ) let group = NSCollectionLayoutGroup.horizontal(layoutSize: groupSize, subitem: item, count: columns) let section = NSCollectionLayoutSection(group: group) section.contentInsets = NSDirectionalEdgeInsets(top: 20, leading: 20, bottom: 20, trailing: 20) section.contentInsetsReference = .readableContent return section }    Layout Environment —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ –∏ —Ç—Ä–µ–π—Ç–∞–º–∏ –ø–æ–∑–≤–æ–ª–∏—Ç –º–µ–Ω—è—Ç—å layout. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ª–æ–Ω–æ–∫ –Ω–∞ –∞–π–ø–∞–¥. –ü—Ä–∏–º–µ—Ä ‚Äî AdaptiveSectionsViewController –û—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –æ—Ç—Å—Ç—É–ø–∞–º –æ—Ç —Ä–æ–¥–Ω—ã—Ö layout margins/readable guide. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É NSCollectionLayoutSection –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∞ –º–æ–∂–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —É —Å–µ–∫—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π —É leading –≥—Ä–∞–Ω–∏—Ü—ã —ç–ª–µ–º–µ–Ω—Ç–∞. OrthogonalScrollBehaviorViewController     Cell Configuration  –£ UICollectionViewCell –º–æ–∂–Ω–æ –ø–æ –Ω–æ–≤–æ–π —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞–º–∏. contentConfiguration –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç (—Ç–µ–∫—Å—Ç, accessory\nList Cell –¥–ª—è Expandable/Collapsible sections. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å indentation (–æ—Ç—Å—Ç—É–ø —Å–ª–µ–≤–∞) UICollectionViewListCell\n   –•–æ—Ä–æ—à–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –¥–ª—è –¥–∏–∑–∞–π–Ω–µ—Ä–æ–≤     –¢–µ–Ω—å –¥–ª—è –≤—Å–µ–π —Å–µ–∫—Ü–∏–∏ insetGrouped —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ò–ª–∏ —Ä–∞–º–∫–∞.  –ò–∑–∏! SectionBackgroundDecorationView –≤ –ø—Ä–∏–º–µ—Ä–µ.\n   –ü—Ä–∏–ª–∏–ø–∞—é—â–∏–µ —Ö–µ–¥–µ—Ä—ã/—Ñ—É—Ç–µ—Ä—ã —Å–µ–∫—Ü–∏–π  –ò–∑–∏! PinnedSectionHeaderFooterViewController –≤ –ø—Ä–∏–º–µ—Ä–µ.\n   –ü–∞–≥–∏–Ω–∞—Ü–∏—è –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ  OrthogonalScrollBehaviorViewController –≤ –ø—Ä–∏–º–µ—Ä–µ\n","date":"Jul 21","permalink":"https://agapovone.github.io/articles/moderncollection/","tags":["Collection View","Table View","UIKit"],"title":"Modern Collection Views"}]